{% extends 'layouts/tlscovid/main.html' %}
{% block title %}{{ _('conta-me histórias') }}{% endblock %}
{% block content %}

<div class="hero-body ">
    <div class="container has-text-centered">
        <div class="columns is-vcentered">
            <div class="column is-6 is-offset-3 has-text-centered">
                
                <h1 class="subtitle components-title is-2 light-text">
                    {{ _('conta-me histórias') }}
                </h1>

                <h1 class="subtitle is-4 light-text">
                    {{ _('Crie uma narrativa de notícias sobre qualquer assunto') }}
                </h1>

                <br>

                <p class="has-text-centered">

                <form name="searchForm" method="get" action="{{ url_for('pages_tlscovid.search') }}" class="form-signin">
                    <div class="help-search-wrapper">
                        {{ form.query(class_ = 'form-control first-input', placeholder = form.query.label.text) }}
                        <i class="sl sl-icon-magnifier"></i>
                    </div>
                    <input type="hidden" id="lang_code" name="lang_code" value="{{lang_code}}">
                </form>
                
                </p>

            </div>
        </div>
    </div>
</div>
</div>

<div class="container">
    <br/>
    <h2 class="subtitle components-title is-4"></h2>
    {%for label, topics in stories_examples["topics_pt"].items() %}
        <h2 class="subtitle components-title is-5">{{label}}S (PT)</h2>
        <div class="example-slick" data-slick='{"slidesToShow": 4, "slidesToScroll": 4}'>
            {% for t in topics %}
            <div>
                <a style="color: black" href="{{ url_for('pages_tlscovid.search', query=t, index='pt') }}">
                    <div class="flex-card light-bordered hover-raised" style="height: 150px;">

                        <div class="card-body">
                            <div class="content">
                                <h2 class="no-margin title-bold">{{t}}</h2>
                            </div>
                        </div>

                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    {% endfor %}
</div>

<div class="container">
    <br/>
    <h2 class="subtitle components-title is-4"></h2>
    {%for label, topics in stories_examples["topics_en"].items() %}
        <h2 class="subtitle components-title is-5">{{label}}S (EN)</h2>
        <div class="example-slick" data-slick='{"slidesToShow": 4, "slidesToScroll": 4}'>
            {% for t in topics %}
            <div>
                <a style="color: black" href="{{ url_for('pages_tlscovid.search', query=t, index='en') }}">
                    <div class="flex-card light-bordered hover-raised" style="height: 150px;">

                        <div class="card-body">
                            <div class="content">
                                <h2 class="no-margin title-bold">{{t}}</h2>
                            </div>
                        </div>

                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    {% endfor %}
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<script>

    $(document).ready(function () {

        // Check if user typed something in query
        $(".form-signin").submit(function(){
            if (document.searchForm.query.value == ''){
                return false;
            }
            else{
            } return true;

        });

    });

</script>

{% endblock %}